/* ===============================
   App UI â€” animated auth screens
   =============================== */
:root{
  --bg1:#0f172a; --bg2:#1e293b;
  --card:#0b1220ee; --ink:#e5e7eb; --muted:#94a3b8;
  --accent:#7c3aed; --accent2:#22d3ee;
  --ok:#16a34a; --warn:#f59e0b; --bad:#ef4444; --info:#38bdf8;
  --ring: 0 0 0 3px rgba(124,58,237,.25);
  --footer-offset: 14px;          /* distance from bottom (raise/lower footer) */
  --footer-max-width: 1040px;     /* max width of the decorative line */
  --footer-line-height: 2px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
  color:var(--ink); background: radial-gradient(1200px 800px at 10% 10%, #1f2937 0%, #0b1220 45%), radial-gradient(800px 600px at 90% 90%, #0b1220 0%, #0a0f1a 55%);
  overflow-x:hidden;
}

.bg-scene{
  position:fixed; inset:0; z-index:-1; overflow:hidden; pointer-events:none;
}
.bg-scene .bg-gradient{
  position:absolute; inset:-10%;
  background:
    radial-gradient(1200px 800px at 12% 14%, #1f2937 0%, #0b1220 48%),
    radial-gradient(900px 700px at 88% 86%, #0b1220 0%, #0a0f1a 60%);
  filter:saturate(115%);
  animation: gradientShift 28s ease-in-out infinite alternate;
}
@keyframes gradientShift{
  0%{ transform:translate3d(0,0,0) scale(1); }
  100%{ transform:translate3d(-2%, -1%, 0) scale(1.03); }
}
.bg-scene .bg-blob{
  position:absolute; width:42vw; height:42vw; border-radius:50%;
  filter:blur(60px) saturate(140%); opacity:.25;
}
.bg-scene .bg-blob.a{
  left:-10vw; top:12vh;
  background:radial-gradient(circle at 30% 30%, var(--accent), transparent 62%);
  animation: driftA 22s ease-in-out infinite alternate;
}
.bg-scene .bg-blob.b{
  right:-12vw; bottom:-10vh;
  background:radial-gradient(circle at 70% 70%, var(--accent2), transparent 60%);
  animation: driftB 24s ease-in-out infinite alternate;
}
.bg-scene .bg-blob.c{
  left:50%; top:60%; transform:translate(-50%,-50%);
  width:30vw; height:30vw; opacity:.18;
  background:radial-gradient(circle at 50% 50%, #22c55e55, transparent 60%);
  animation: pulseC 26s ease-in-out infinite alternate;
}
@keyframes driftA{ from{transform:translateY(0)} to{transform:translateY(-18px)} }
@keyframes driftB{ from{transform:translate(0,0)} to{transform:translate(-16px,-10px)} }
@keyframes pulseC{ from{transform:translate(-50%,-50%) scale(.96)} to{transform:translate(-50%,-50%) scale(1.04)} }
@media (prefers-reduced-motion:reduce){
  .bg-scene .bg-gradient, .bg-scene .bg-blob{ animation:none }
}

.bg-orb{
  position:fixed; inset:auto -10vw -10vh auto; width:45vw; height:45vw; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, var(--accent), transparent 60%),
              radial-gradient(circle at 70% 70%, var(--accent2), transparent 55%);
  filter: blur(60px) saturate(140%); opacity:.35; pointer-events:none;
  animation: float 11s ease-in-out infinite;
}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-18px)}}
@media (prefers-reduced-motion:reduce){.bg-orb{animation:none}}

.auth-wrap{min-height:100%; display:grid; place-items:center; padding:32px}
.card{
  width:100%; max-width:420px; background:var(--card); border:1px solid rgba(148,163,184,.12);
  border-radius:24px; padding:28px; box-shadow: 0 10px 30px rgba(2,6,23,.5);
  backdrop-filter: blur(10px);
  transform: translateY(14px); opacity:0; animation: rise .6s cubic-bezier(.2,.8,.2,1) .15s forwards;
}
@keyframes rise{to{transform:translateY(0); opacity:1}}
.logo{
  display:flex; align-items:center; gap:10px; margin-bottom:18px;
  font-weight:800; letter-spacing:.3px; font-size:20px;
}
.logo-badge{
  width:36px; height:36px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:grid; place-items:center; color:#0b1220; font-weight:900;
  box-shadow:0 8px 20px rgba(34,211,238,.35), inset 0 0 20px rgba(255,255,255,.1);
}
.title{font-size:24px; font-weight:800; margin:6px 0 4px}
.subtitle{color:var(--muted); margin:0 0 18px; font-size:14px}

.form{display:grid; gap:12px}
.field{display:grid; gap:8px}
.label{font-size:13px; color:#cbd5e1}
.control{
  display:flex; align-items:center; gap:8px; background:#0b1324; border:1px solid rgba(148,163,184,.18);
  border-radius:14px; padding:10px 12px;
}
.control:focus-within{box-shadow:var(--ring); border-color:rgba(124,58,237,.55)}
.input{
  width:100%; background:transparent; border:none; outline:none; color:var(--ink);
  font-size:15px; padding:6px 0;
}
.toggle{border:none;background:transparent;color:var(--muted);cursor:pointer;font-size:12px}
.hint{font-size:12px; color:var(--muted)}
.error{font-size:12px; color:var(--bad); min-height:16px}

.btn{
  display:inline-flex; justify-content:center; align-items:center; gap:8px;
  width:100%; padding:12px 14px; border:none; border-radius:14px; font-weight:700;
  color:#0b1220; background:linear-gradient(135deg,var(--accent),var(--accent2));
  cursor:pointer; transition: transform .08s ease, filter .2s ease;
}
.btn:disabled{filter:grayscale(.6) brightness(.7); cursor:not-allowed}
.btn:active{transform:translateY(1px)}
.muted-link{color:var(--info); text-decoration:none; font-weight:600}
.muted-link:hover{text-decoration:underline}

/* ---------- Global footer (fixed, always visible) ---------- */
.site-footer{
  position:fixed; left:0; right:0; bottom:var(--footer-offset);
  display:grid; place-items:center; padding:0 16px; z-index:10;
  pointer-events:none; /* so it never blocks clicks on content near the bottom */
}
.footer-line{
  height:var(--footer-line-height);
  width:min(92vw, var(--footer-max-width));
  background:linear-gradient(90deg, transparent, var(--accent), var(--accent2), transparent);
  opacity:.55; border-radius:999px;
}
.footer-text{
  margin-top:8px; color:var(--muted); font-size:12.5px; letter-spacing:.25px;
  text-align:center;
  pointer-events:auto; /* text remains selectable */
}
.footer-text strong{ color:#e2e8f0; font-weight:800 }

/* Toasts (flash messages) */
.toasts{position:fixed; top:18px; right:18px; display:grid; gap:10px; z-index:9999}
.toast{
  padding:10px 12px; border-radius:12px; font-size:14px; color:#06121f; font-weight:700;
 background:#e2e8f0; box-shadow:0 8px 24px rgba(2,6,23,.4);
  transform: translateX(20px); opacity:0; animation: toast-in .35s ease forwards;
}
.toast.success{background:#86efac}
.toast.danger{background:#fecaca}
.toast.info{background:#bae6fd}
.toast.warning{background:#fde68a}
@keyframes toast-in{to{transform:translateX(0); opacity:1}}

/* Small decorative shimmer under title */
.glow{
  height:2px; width:72px; background:linear-gradient(90deg,transparent,var(--accent),transparent);
  border-radius:999px; margin:8px 0 6px;
}
/* ---------- Modal ---------- */
.modal{position:fixed; inset:0; display:none; place-items:center; z-index:10000}
.modal.open{display:grid}
.modal-backdrop{position:absolute; inset:0; background:rgba(2,6,23,.6); backdrop-filter: blur(4px)}
.modal-card{
  position:relative; z-index:1; width:min(92vw,460px); background:var(--card); border:1px solid rgba(148,163,184,.18);
  border-radius:20px; padding:20px; box-shadow:0 10px 36px rgba(2,6,23,.55);
}
.modal-card h2{margin:0 0 6px}
.modal-actions{margin-top:14px; display:flex; gap:10px; justify-content:flex-end}

/* ---------- Chat UI ---------- */
.chat-shell{max-width:980px; margin:24px auto; padding:0 16px}
.chat-card{
  position:relative;
  background:var(--card); border:1px solid rgba(148,163,184,.12);
  border-radius:22px; box-shadow:0 10px 30px rgba(2,6,23,.45)
}
/* soft, soothing animated glow behind the chat card */
.chat-card::before{
  content:""; position:absolute; inset:-6px; border-radius:26px; z-index:0;
  background:
    radial-gradient(60% 60% at 20% 30%, rgba(124,58,237,.55), transparent 65%),
    radial-gradient(50% 50% at 80% 70%, rgba(34,211,238,.50), transparent 60%);
  filter: blur(30px); opacity:.35; animation: chatGlow 12s ease-in-out infinite alternate;
  pointer-events:none;
}
@keyframes chatGlow{
  0%   { transform: translateY(0) scale(1);   opacity:.30; }
  100% { transform: translateY(-10px) scale(1.02); opacity:.42; }
}
.chat-header{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid rgba(148,163,184,.12)}
.chat-header .logo{margin:0}
.chat-stream{position:relative; z-index:1; height:60vh; overflow:auto; padding:18px; display:flex; flex-direction:column; gap:12px}
.msg{max-width:78%; padding:12px 14px; border-radius:16px; line-height:1.45}
.msg.user{align-self:flex-end; background:#0ea5e9; color:#06121f; border-bottom-right-radius:6px}
.msg.bot{align-self:flex-start; background:#0b1324; border:1px solid rgba(148,163,184,.18); border-bottom-left-radius:6px}
.msg.bot.crisis{background:#2b0e13; border-color:#7f1d1d}
.chat-input{position:relative; z-index:1; display:flex; gap:10px; padding:14px; border-top:1px solid rgba(148,163,184,.12)}
.chat-input .control{flex:1}
/* override the global .btn width so the input has space */
.chat-input .btn{ width:auto; min-width:108px; padding:12px 18px }
.typing{display:inline-flex; gap:6px; align-items:center}
.dot{width:6px; height:6px; border-radius:50%; background:#93c5fd; opacity:.65; animation: blink 1.2s infinite}
.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
